<script setup lang="ts">
import { onLaunch, onShow, onHide } from '@dcloudio/uni-app'
import 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'

import { useUserStore } from '@/store'

const userStore = useUserStore()

onLaunch(async () => {
  console.log('App Launch')

  const openID = userStore.getOpenId()
  console.log('ğŸ›App: openID', openID)

  if (userStore.isLoginExpired) {
    console.log('ğŸ›App: ç™»å½•è¿‡æœŸ')
    await userStore.onLogin()
  }
})

onShow(() => {
  console.log('App Show')
})

onHide(() => {
  console.log('App Hide')
})
</script>

<style lang="scss">
// /* stylelint-disable selector-type-no-unknown */
// button::after {
//   border: none;
// }

// swiper,
// scroll-view {
//   flex: 1;
//   height: 100%;
//   overflow: hidden;
// }

// image {
//   width: 100%;
//   height: 100%;
//   vertical-align: middle;
// }

// // å•è¡Œçœç•¥ï¼Œä¼˜å…ˆä½¿ç”¨ unocss: text-ellipsis
// .ellipsis {
//   overflow: hidden;
//   text-overflow: ellipsis;
//   white-space: nowrap;
// }

// // ä¸¤è¡Œçœç•¥
// .ellipsis-2 {
//   display: -webkit-box;
//   overflow: hidden;
//   text-overflow: ellipsis;
//   -webkit-line-clamp: 2;
//   -webkit-box-orient: vertical;
// }

// // ä¸‰è¡Œçœç•¥
// .ellipsis-3 {
//   display: -webkit-box;
//   overflow: hidden;
//   text-overflow: ellipsis;
//   -webkit-line-clamp: 3;
//   -webkit-box-orient: vertical;
// }
</style>
